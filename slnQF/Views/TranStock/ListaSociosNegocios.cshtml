
@model IEnumerable<slnQF.SP_CONSULTA_SAP_SOCIOS_NEGOCIOSResult>
<div class="row col-lg-12">     
    @{
        WebGrid grid = new WebGrid(Model, canPage: false, selectionFieldName: "selectedRow", ajaxUpdateContainerId: "gridSocioSel");
    }
    <div>
        <div id="gridSocioSel" >
            @grid.GetHtml(
                            htmlAttributes: new { width = "100%" },
                                     mode: WebGridPagerModes.All,
                                     tableStyle: "table table-bordered table-hover table-responsive",
                                     columns: new[] {
                                     grid.Column(header: "", format: @<text><a href="#" title="Seleccionar" id="@item.CardCode" onclick="fnSeleccionaSocio('@item.CardCode','@item.CardName','@item.CntctPrsn','@item.Address')">Seleccionar</a></text>),
                                     grid.Column("CardName", "Nombre", null, "text-center", false),
                                     grid.Column("CntctPrsn", "Contacto", null, "text-center", false),
                                     grid.Column("Address", "Destinatario", null, "text-center", false)
                                 })
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        $('#gridSocioSel table').DataTable({
            "pageLength": 5,
            //"searching": true,
            "paging": true,

            "searching": true,

            fixedColumns: false,
            "scrollX":true
        })
    });
    function fnSeleccionaSocio(idItem,cardname,contact,address){

        $("#txtSocio").attr("disabled", "disabled");
        $('#txtNombre').val(cardname);
        $('#txtSocio').val(idItem);
        $('#txtContacto').val(contact);
        $('#txtDestinatario').val(address);
        $("#modalGenerico .close").click();
        
    }


</script>


